<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Smooth Sailing: Simplify AWS Environment Switching with AWS CLI | My Tech Meanderings</title>
<meta name="keywords" content="aws, cli">
<meta name="description" content="Problem As a developer or QA engineer when using AWS CLI, switching between different AWS accounts or environments can be a complicated process. However, I recently discovered an open-source utility that can make this process much easier. With this tool, switching between accounts is as simple as typing a single word. I have found this utility to be a lifesaver, particularly when debugging EKS pods with Kubectl across DEV and QA environments.">
<meta name="author" content="">
<link rel="canonical" href="http://yogesh.dev/posts/assume-aws-cli-utility/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.e087fd1dc76e73a35ae6d7028ddc1ba41e0131e7f9b3a6e2d019a208e6d6c4b5.css" integrity="sha256-4If9Hcduc6Na5tcCjdwbpB4BMef5s6bi0BmiCObWxLU=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://yogesh.dev/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://yogesh.dev/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://yogesh.dev/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://yogesh.dev/apple-touch-icon.png">
<link rel="mask-icon" href="http://yogesh.dev/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Smooth Sailing: Simplify AWS Environment Switching with AWS CLI" />
<meta property="og:description" content="Problem As a developer or QA engineer when using AWS CLI, switching between different AWS accounts or environments can be a complicated process. However, I recently discovered an open-source utility that can make this process much easier. With this tool, switching between accounts is as simple as typing a single word. I have found this utility to be a lifesaver, particularly when debugging EKS pods with Kubectl across DEV and QA environments." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://yogesh.dev/posts/assume-aws-cli-utility/" />
<meta property="og:image" content="http://yogesh.dev/images/aws-cli-assume-cover.png" /><meta property="article:section" content="posts" />

<meta property="article:modified_time" content="2024-03-29T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://yogesh.dev/images/aws-cli-assume-cover.png" />
<meta name="twitter:title" content="Smooth Sailing: Simplify AWS Environment Switching with AWS CLI"/>
<meta name="twitter:description" content="Problem As a developer or QA engineer when using AWS CLI, switching between different AWS accounts or environments can be a complicated process. However, I recently discovered an open-source utility that can make this process much easier. With this tool, switching between accounts is as simple as typing a single word. I have found this utility to be a lifesaver, particularly when debugging EKS pods with Kubectl across DEV and QA environments."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://yogesh.dev/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Smooth Sailing: Simplify AWS Environment Switching with AWS CLI",
      "item": "http://yogesh.dev/posts/assume-aws-cli-utility/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Smooth Sailing: Simplify AWS Environment Switching with AWS CLI",
  "name": "Smooth Sailing: Simplify AWS Environment Switching with AWS CLI",
  "description": "Problem As a developer or QA engineer when using AWS CLI, switching between different AWS accounts or environments can be a complicated process. However, I recently discovered an open-source utility that can make this process much easier. With this tool, switching between accounts is as simple as typing a single word. I have found this utility to be a lifesaver, particularly when debugging EKS pods with Kubectl across DEV and QA environments.",
  "keywords": [
    "aws", "cli"
  ],
  "articleBody": "Problem As a developer or QA engineer when using AWS CLI, switching between different AWS accounts or environments can be a complicated process. However, I recently discovered an open-source utility that can make this process much easier. With this tool, switching between accounts is as simple as typing a single word. I have found this utility to be a lifesaver, particularly when debugging EKS pods with Kubectl across DEV and QA environments.\nInstall Install process is simply just like any other macos or windows utility\nMacos Windows Download the window install binaries from url below\nhttps://releases.commonfate.io/granted/v0.20.6/granted_0.20.6_windows_x86_64.zip\nAfter the download run the two binaries assume and granted\nLinux Verification you can quickly check if the install worked as expected by running the following version command\nSetup Once assume command is run for the first time, you will be prompted to choose a default browser. In case you use firefox, you may be prompted to add assume firefox extension.\nConfig I am assuming you already have aws cli setup and configured for your usage one for dev, QA and Production. if you havenâ€™t done so please refer to my earlier blog that helps you setup here\nAfter the initial config, run assume again and you will see all the profiles configured as part of your aws cli config.\nFor Additional usage you can refer to existing documentation\nhttps://docs.commonfate.io/granted/usage/assuming-roles\nNow you can effortlessly switch between different AWS profiles, so you can focus on troubleshooting instead of wasting time on signing in\n",
  "wordCount" : "248",
  "inLanguage": "en",
  "image":"http://yogesh.dev/images/aws-cli-assume-cover.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "2024-03-29T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://yogesh.dev/posts/assume-aws-cli-utility/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My Tech Meanderings",
    "logo": {
      "@type": "ImageObject",
      "url": "http://yogesh.dev/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://yogesh.dev/" accesskey="h" title="My Tech Meanderings (Alt + H)">My Tech Meanderings</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://yogesh.dev/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://yogesh.dev/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://yogesh.dev/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://yogesh.dev/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://yogesh.dev/">Home</a>&nbsp;Â»&nbsp;<a href="http://yogesh.dev/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Smooth Sailing: Simplify AWS Environment Switching with AWS CLI
    </h1>
    <div class="post-meta"><span title='2024-03-29 00:00:00 +0000 UTC'>March 29, 2024</span>&nbsp;Â·&nbsp;2 min


</div>
  </header> 
<figure class="entry-cover">
        <img loading="eager" srcset="http://yogesh.dev/posts/assume-aws-cli-utility/images/aws-cli-assume-cover_hu691f13776fdd90570009b0aa1278b294_23778_360x0_resize_box_3.png 360w ,http://yogesh.dev/posts/assume-aws-cli-utility/images/aws-cli-assume-cover_hu691f13776fdd90570009b0aa1278b294_23778_480x0_resize_box_3.png 480w ,http://yogesh.dev/posts/assume-aws-cli-utility/images/aws-cli-assume-cover.png 641w" 
            sizes="(min-width: 768px) 720px, 100vw" src="http://yogesh.dev/posts/assume-aws-cli-utility/images/aws-cli-assume-cover.png" alt="" 
            width="641" height="321">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#problem">Problem</a></li>
    <li><a href="#install">Install</a>
      <ul>
        <li><a href="#macos">Macos</a></li>
        <li><a href="#windows">Windows</a></li>
        <li><a href="#linux">Linux</a></li>
      </ul>
    </li>
    <li><a href="#verification">Verification</a></li>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#config">Config</a></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="problem">Problem<a hidden class="anchor" aria-hidden="true" href="#problem">#</a></h2>
<p>As a developer or QA engineer when using AWS CLI, switching between different AWS accounts or environments can be a complicated process. However, I recently discovered an open-source utility that can make this process much easier. With this tool, switching between accounts is as simple as typing a single word. I have found this utility to be a lifesaver, particularly when debugging EKS pods with Kubectl across DEV and QA environments.</p>
<h2 id="install">Install<a hidden class="anchor" aria-hidden="true" href="#install">#</a></h2>
<p>Install process is simply just like any other macos or windows utility</p>
<h3 id="macos">Macos<a hidden class="anchor" aria-hidden="true" href="#macos">#</a></h3>
<p><img loading="lazy" src="images/mac.png" alt="macos"  />
</p>
<h3 id="windows">Windows<a hidden class="anchor" aria-hidden="true" href="#windows">#</a></h3>
<p>Download the window install binaries from url below</p>
<p><a href="https://releases.commonfate.io/granted/v0.20.6/granted_0.20.6_windows_x86_64.zip">https://releases.commonfate.io/granted/v0.20.6/granted_0.20.6_windows_x86_64.zip</a></p>
<p>After the download run the two binaries <code>assume</code> and <code>granted</code></p>
<h3 id="linux">Linux<a hidden class="anchor" aria-hidden="true" href="#linux">#</a></h3>
<p><img loading="lazy" src="images/linux.png" alt="linux"  />
</p>
<h2 id="verification">Verification<a hidden class="anchor" aria-hidden="true" href="#verification">#</a></h2>
<p>you can quickly check if the install worked as expected by running the following version command</p>
<p><img loading="lazy" src="images/verify.png" alt="verify"  />
</p>
<h2 id="setup">Setup<a hidden class="anchor" aria-hidden="true" href="#setup">#</a></h2>
<p>Once assume command is run for the first time, you will be prompted to choose a default browser. In case you use firefox, you may be prompted to add assume firefox extension.</p>
<h2 id="config">Config<a hidden class="anchor" aria-hidden="true" href="#config">#</a></h2>
<p>I am assuming you already have aws cli setup and configured for your usage one for dev, QA and Production. if you haven&rsquo;t done so please refer to my earlier blog that helps you setup <a href="http://yogesh.dev/posts/my-aws-cli-setup/">here</a></p>
<p>After the initial config, run assume again and you will see all the profiles configured as part of your aws cli config.</p>
<p><img loading="lazy" src="images/setup.png" alt="setup"  />
</p>
<p>For Additional usage you can refer to existing documentation</p>
<p><a href="https://docs.commonfate.io/granted/usage/assuming-roles">https://docs.commonfate.io/granted/usage/assuming-roles</a></p>
<p>Now you can effortlessly switch between different AWS profiles, so you can focus on troubleshooting instead of wasting time on signing in</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://yogesh.dev/tags/aws/">aws</a></li>
      <li><a href="http://yogesh.dev/tags/cli/">cli</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="http://yogesh.dev/posts/my-aws-cli-setup/">
    <span class="title">Next Â»</span>
    <br>
    <span>My AWS CLI Setup</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Smooth Sailing: Simplify AWS Environment Switching with AWS CLI on x"
            href="https://x.com/intent/tweet/?text=Smooth%20Sailing%3a%20Simplify%20AWS%20Environment%20Switching%20with%20AWS%20CLI&amp;url=http%3a%2f%2fyogesh.dev%2fposts%2fassume-aws-cli-utility%2f&amp;hashtags=aws%2ccli">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Smooth Sailing: Simplify AWS Environment Switching with AWS CLI on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fyogesh.dev%2fposts%2fassume-aws-cli-utility%2f&amp;title=Smooth%20Sailing%3a%20Simplify%20AWS%20Environment%20Switching%20with%20AWS%20CLI&amp;summary=Smooth%20Sailing%3a%20Simplify%20AWS%20Environment%20Switching%20with%20AWS%20CLI&amp;source=http%3a%2f%2fyogesh.dev%2fposts%2fassume-aws-cli-utility%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Smooth Sailing: Simplify AWS Environment Switching with AWS CLI on whatsapp"
            href="https://api.whatsapp.com/send?text=Smooth%20Sailing%3a%20Simplify%20AWS%20Environment%20Switching%20with%20AWS%20CLI%20-%20http%3a%2f%2fyogesh.dev%2fposts%2fassume-aws-cli-utility%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Smooth Sailing: Simplify AWS Environment Switching with AWS CLI on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Smooth%20Sailing%3a%20Simplify%20AWS%20Environment%20Switching%20with%20AWS%20CLI&u=http%3a%2f%2fyogesh.dev%2fposts%2fassume-aws-cli-utility%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://yogesh.dev/">My Tech Meanderings</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
